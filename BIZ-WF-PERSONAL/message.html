<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="../BIZ-WF-COMMON/css/base.css">
    <link rel="stylesheet" href="../BIZ-WF-COMMON/css/ui-icon.css">
    <link rel="stylesheet" href="../BIZ-WF-COMMON/css/ui-color.css">
    <link rel="stylesheet" href="css/message.css">
    <title>消息中心</title>
</head>
<body class="bg-f2">
<div class="header box v-c bg-2d t-w">
    <div class="pad-l93">
        <div class="icon-left2 icon-size13 b-img1"></div>
    </div>
    <div class="box h100 f1 center">
        消息中心
    </div>
    <div class="pad-r93">
        <div class="icon-search icon-size13 b-img1"></div>
    </div>
</div>
<div class="msg-top">
    <div class="bg-w pad-lr1125 box">
        <div class="msg-tab box center tab-selected">
            <div class="msg-text relative">
                财务消息
                <div class="msgNum hide">
                    <div class="bg-num t-w fz75 box center">6</div>
                </div>
            </div>
        </div>
        <div class="msg-tab box center">
            <div class="msg-text relative">系统消息
                <div class="msgNum">
                    <div class="bg-num t-w fz75 box center">6</div>
                </div>
            </div>
        </div>
        <div class="msg-tab box center">
            <div class="msg-text relative">活动消息
                <div class="msgNum hide">
                    <div class="bg-num t-w fz75 box center">6</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="msg-list mar-t625" id="msg-list">

</div>
<script src="../BIZ-WF-COMMON/js/umsapi.js"></script>
<script src="../BIZ-WF-COMMON/js/zepto.min.js"></script>
<script src="../BIZ-WF-COMMON/js/template.js"></script>
<script id="mitem" type="text/html">
    {{each list as val i}}
    <div class="msg-item">
        <div class="box pad-bt1 b-b b-e0 bor-box">
            <div class="message {{val.type==1?'message1':val.type==2?'message2':'message3'}} mar-r625">
                <div class="red-dot"></div>
            </div>
            <div class="f1">
                <p class="msg-text">
                    {{if val.type==1}}
                    您今天的对账单已出,请立即查看!
                    {{else if val.type==2}}
                    您的系统已设置成功，请立即查看！
                    {{else}}
                    五一小假期怎么安排，全民付来帮您！
                    {{/if}}
                </p>
                <p class="fz75 t-a7 mar-t0125">2017/03/24 <span class="mar-l05">10:30</span></p>
            </div>
            <div class="box v-c">
                <div class="icon-size13 icon-right"></div>
            </div>
        </div>
    </div>
    {{/each}}
</script>
<script>
    $(document).ready(function () {
        showData(data0);
    })

    $(".msg-tab").on("click", function () {
        $(".msg-tab").removeClass("tab-selected");
        $(this).addClass("tab-selected");
        var index = $(this).index(),
                data = null;
        if (index === 0) {
            data = data0;
        } else if (index === 1) {
            data = data1;
        } else {
            data = data2;
        }
        showData(data);
    })

    var data0 = {"list": [{"type": 1}, {"type": 1}, {"type": 1}, {"type": 1}]},
            data1 = {"list": [{"type": 2}, {"type": 2}, {"type": 2}, {"type": 2}]},
            data2 = {"list": [{"type": 3}]};

    function showData(data) {
        var html = template("mitem", data);
        $("#msg-list").html(html);
    }

</script>
</body>
</html>